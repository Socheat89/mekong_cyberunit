# Security: Disable Directory Listing
# Options -Indexes

RewriteEngine On
# RewriteBase /Mekong_CyberUnit/
RewriteBase /

# Security: Block direct access to core system folders
RewriteRule ^(config|core|middleware|database|logs|vendor|modules)/.*$ - [F,L]

# Force root to public/
RewriteRule ^$ public/ [L,R=301]

# Handle PHP files directly
RewriteCond %{REQUEST_FILENAME} \.php$ [NC]
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule . - [L]

# Handle other files and directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule . - [L]

# Route everything else to index.php
RewriteRule . index.php [L]