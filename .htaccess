Options -Indexes
RewriteEngine On

# Force HTTPS (Commented out for local development)
# RewriteCond %{HTTPS} off
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirect root to public/
RewriteRule ^$ public/ [L,R=301]

# Handle PHP files directly
RewriteCond %{REQUEST_FILENAME} \.php$ [NC]
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule . - [L]

# Handle other files and directories
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule . - [L]

# Route everything else to index.php
RewriteRule . index.php [L]